<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0, user-scalable=no">
		<title>选课</title>
		<link rel="stylesheet" type="text/css" href="../../assets/css/reset.css" />
		<link rel="stylesheet" type="text/css" href="../../assets/css/TY.css" />
		<link rel="stylesheet" type="text/css" href="study.css" />
		<script src="//game.gtimg.cn/images/js/mmdPlugin/mmd-plugin.min.1.0.2.js" charset="utf-8"></script>
		<script src="//game.gtimg.cn/images/js/mmdVideoPlayer/mmd.videoplayer.min.1.0.1.js" charset="utf-8"></script>
		<script src="../../assets/js/rem.js" type="text/javascript" charset="utf-8"></script>
	</head>

	<body>

		<div class="TYsection2">
			<div class="studt_header">
				<div>
					<a href="CourseSelection.html"><img src="../../assets/img/study/return.png" alt="" /></a>
					<img src="../../assets/img/study/more.png" onclick="Catalog()" />
				</div>
				<div>
					<img src="../../assets/img/study/shipin.png" alt="" onclick="Shipin()" />
					<img src="../../assets/img/study/jiangyi.png" onclick="Jiangyi()" />
				</div>
			</div>
			<div id="mediaplayer"></div>
			<div class="study_jiangyi">
				讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义讲义
			</div>
			<div class="studt_center">
				<div class="studt_centerTitle">需求分析发现过程概述</div>
				<div class="studt_centerText">Volere需求发现过程6：需求复查和迭代增量过程增量过程增量过程</div>
			</div>
			<div class="studt_center">
				<div class="selection_itemFrame_text1">
					<span>授课老师：</span><span>Sasa</span>
				</div>
				<div class="selection_itemFrame_text1">
					<span>困难程度：</span><span>容易</span>
				</div>
				<div class="selection_itemFrame_text1">
					<span>更新课程：</span><span>129节</span>
				</div>
				<div class="selection_itemFrame_text1">
					<span>课程学习时间：</span><span>2015/7/29-2015/8/1</span>
				</div>
			</div>
		</div>

		<div class="studyPopur">
			<div class="studyPopurNone" onclick="Catalog()"></div>
			<div class="study_catalog">
				<div class="study_catalogHeader">
					<span>目录</span>
				</div>
				<div class="study_catalogCenter">
					<div class="study_catalogCenter_left">
						<div class="active">
							<span>需求分析</span>
						</div>
						<div>
							<span>Axure</span>
						</div>
						<div>
							<span>项目管理</span>
						</div>
						<div>
							<span>直播回放</span>
						</div>
						<div>
							<span>课程资料</span>
						</div>
						<div>
							<span>学习任务</span>
						</div>
					</div>
					<div class="study_catalogCenter_Right">
						<div class="study_c_RightFrame">
							<div class="study_c_RightFrame_header">
								<span>市场分析</span>
								<img src="../../assets/img/home/jt.png" />
							</div>
							<div class="study_c_RightFrame_center">
								<div class="study_c_RightFrame_header2">
									<span>市场分析</span>
									<img src="../../assets/img/home/jt.png" />
								</div>
								<div class="study_c_RightFrame_center2">
									<div class="study_c_RightFrame_centerTitle">
										<span>Volere需求发现过程6：需求复查和迭代增量过程增量过程...</span>
									</div>
									<div class="study_c_RightFrame_centerTime">
										<span>18分26秒</span>
									</div>
								</div>
							</div>
						</div>
						<div class="study_c_RightFrame">
							<div class="study_c_RightFrame_header">
								<span>市场分析</span>
								<img src="../../assets/img/home/jt.png" />
							</div>
							<div class="study_c_RightFrame_center">
								<div class="study_c_RightFrame_header2">
									<span>市场分析</span>
									<img src="../../assets/img/home/jt.png" />
								</div>
								<div class="study_c_RightFrame_center2">
									<div>
										<div class="study_c_RightFrame_centerTitle">
											<span>Volere需求发现过程6：需求复查和迭代增量过程增量过程...</span>
										</div>
										<div class="study_c_RightFrame_centerTime">
											<span>18分26秒</span>
										</div>
									</div>
									<div>
										<div class="study_c_RightFrame_centerTitle">
											<span>Volere需求发现过程6：需求复查和迭代增量过程增量过程...</span>
										</div>
										<div class="study_c_RightFrame_centerTime">
											<span>18分26秒</span>
										</div>
									</div>
								</div>
							</div>
							<div class="study_c_RightFrame_center">
								<div class="study_c_RightFrame_header2">
									<span>市场分析</span>
									<img src="../../assets/img/home/jt.png" />
								</div>
								<div class="study_c_RightFrame_center2">
									<div>
										<div class="study_c_RightFrame_centerTitle">
											<span>Volere需求发现过程6：需求复查和迭代增量过程增量过程...</span>
										</div>
										<div class="study_c_RightFrame_centerTime">
											<span>18分26秒</span>
										</div>
									</div>
									<div>
										<div class="study_c_RightFrame_centerTitle">
											<span>Volere需求发现过程6：需求复查和迭代增量过程增量过程...</span>
										</div>
										<div class="study_c_RightFrame_centerTime">
											<span>18分26秒</span>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

		</div>

		<div class="TYfooter">
			<div>
				<a href="../home/index.html">
					<div>
						<img src="../../assets/img/home/home_up.png" />
						<img src="../../assets/img/home/home_down.png" />
					</div>
					<div>首页</div>
				</a>
			</div>
			<div>
				<a href="../buy/buy.html">
					<div>
						<img src="../../assets/img/home/shopping_up.png" />
						<img src="../../assets/img/home/shopping_down.png" />
					</div>
					<div>购课</div>
				</a>
			</div>
			<div class="active">
				<a href="CourseSelection.html">
					<div>
						<img src="../../assets/img/home/learn_up.png" />
						<img src="../../assets/img/home/learn_down.png" />
					</div>
					<div>学习</div>
				</a>
			</div>
			<div>
				<a href="../my/my.html">
					<div>
						<img src="../../assets/img/home/my_up.png" />
						<img src="../../assets/img/home/my_down.png" />
					</div>
					<div>我的</div>
				</a>
			</div>
		</div>
	</body>
	<script src="../../assets/js/jwplayer.js" type="text/javascript" charset="utf-8"></script>
	<script src="../../assets/js/jwpsrv.js"></script>
	<!--阻止ios滚动条回弹出现空白-->
	<script src="../../assets/js/iosHT.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		overscroll(document.querySelector('.TYsection2'))
		overscroll(document.querySelector('.study_catalogCenter_left'))
		overscroll(document.querySelector('.study_catalogCenter_Right'))
		
		var popur = document.querySelector(".studyPopur")
		//判断是否登录  没有登录跳转到登录页
		if(localStorage.getItem("userId") == null || localStorage.getItem("userID") == ""){
			window.location.href="../login/login.html";
		}
		jwplayer('mediaplayer').setup({
			'flashplayer': 'jwplayer/jwplayer.flash.swf',
			'image': 'http://www.pexue.com/Upload/201509/11/2015091116090798636769.png',
			'id': 'playerID',
			'width': '100%',
			'aspectratio': '10:6',
			'file': 'http://www.pexue.com/Upload/201605/24/2016052413315032452443.mp4',
			'modes': [{
				type: "html5"
			}]
		});

		(function(undefined) {
			function Jiangyi() {
				document.querySelector(".study_jiangyi").classList.toggle("active");
				
			}

			function Shipin() {
				document.querySelector(".study_jiangyi").classList.remove("active");
			}

			function Catalog() {
				popur.classList.toggle("active");
				popur.removeAttribute("style");
			}
			//暴露给全局对象
			window.Jiangyi = Jiangyi;
			window.Shipin = Shipin;
			window.Catalog = Catalog;
		}());

		var header1 = document.querySelectorAll(".study_c_RightFrame_header");
		var header2 = document.querySelectorAll(".study_c_RightFrame_header2");
		var div = document.querySelectorAll(".study_catalogCenter_left div");
		var center2 = document.querySelectorAll(".study_c_RightFrame_center2")
		for(let i = 0; i < header1.length; i++) {
			header1[i].onclick = function() {
				header1[i].parentElement.classList.toggle("active")
			}
		}
		for(let i = 0; i < center2.length; i++) {
			center2[i].onclick = function() {
				document.querySelector(".studyPopur").classList.toggle("active");
			}
		}
		for(let i = 0; i < div.length; i++) {
			div[i].onclick = function() {
				for(let j = 0; j < div.length; j++) {
					if(div[j].classList.contains("active")) {
						div[j].classList.remove("active")
					}
				}

				div[i].classList.add("active")
			}
		}
		for(let i = 0; i < header2.length; i++) {
			header2[i].onclick = function() {
				header2[i].parentElement.classList.toggle("active")
			}
		}
		
		//	触摸事件
			var moveUl = document.querySelector(".study_catalog"),
				start = 0,
				startY = 0,
				tform = 0,
				tformY = 0,
				frameWidth = 0;

			function handlerTouchEvent(event) {
				//只跟踪一次触摸
				if(event.touches.length == 1 || event.touches.length == 0) {

					switch(event.type) {
						case "touchstart":
							tform = 0;
							start = event.touches[0].clientX;
							startY = event.touches[0].clientY;
							frameWidth = moveUl.offsetWidth;
							popur.style.transition = "all 0s"
							break;
						case "touchend":
						console.log(tform)
							if(tform <= -100) {
//								触摸超过100时关闭
								 Catalog()
							} else {
//								触摸没有超过100时回到原来位置
								popur.style.transform = "translateX(" + 0 + "px)"
							}

							break;
						case "touchmove":
							var width = document.body.offsetWidth;

							let X = event.touches[0].clientX - start; //x轴的滑动值
							let Y = event.touches[0].clientY - startY; //y轴的滑动值

							if(Math.abs(X) > Math.abs(Y) && X > 0) {
								event.preventDefault();
							} else if(Math.abs(X) > Math.abs(Y) && X < 0) {
								event.preventDefault();
							} else if(Math.abs(Y) > Math.abs(X) && Y > 0) {

							} else if(Math.abs(Y) > Math.abs(X) && Y < 0) {

							} else {
								console.log("just touch");
							}

							tform = -(start - event.changedTouches[0].clientX);
							if(tform >= 0) {
								tform = 0;
							}
							popur.style.transform = "translateX(" + tform + "px)"
					}
				}
			}

			moveUl.addEventListener('touchstart', handlerTouchEvent, false);
			moveUl.addEventListener('touchmove', handlerTouchEvent, false);
			moveUl.addEventListener('touchend', handlerTouchEvent, false);
	</script>

</html>