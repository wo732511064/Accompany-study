<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0, user-scalable=no">
		<title></title>
		<link rel="stylesheet" type="text/css" href="../../assets/css/reset.css"/>
		<link rel="stylesheet" type="text/css" href="../../assets/css/TY.css"/>
		<link rel="stylesheet" type="text/css" href="home.css"/>
		<script src="../../assets/js/rem.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<!--分类展开-->
		<div class="datum_popur">
			<div class="datum_popurNone" onclick="Popur()"></div>
			<div class="datum_fl">
				<div class="datum_fl_Top">
					<div class="datum_flFrame active">
						<div class="datum_flFrame_header">
							<span>行业</span>
							<img src="../../assets/img/home/jt.png" />
						</div>
						<div class="datum_flFrame_item clearfix">
							<div><span>金融</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
							<div><span>旅游</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
							<div><span>地产</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
							<div><span>互联网</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
							<div><span>餐饮</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
							<div><span>美容美体</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
							<div><span>教育</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
							<div><span>娱乐</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
							<div><span>健康</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
						</div>
					</div>
					<div class="datum_flFrame">
						<div class="datum_flFrame_header">
							<span>地区</span>
							<img src="../../assets/img/home/jt.png" />
						</div>
						<div class="datum_flFrame_item clearfix">
							<div><span>北京</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
							<div><span>上海</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
							<div><span>广州</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
							<div><span>深圳</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
							<div><span>内蒙古</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
							<div><span>黑龙江</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
							<div><span>湖南</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
							<div><span>湖北</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
							<div><span>江西</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
							<div><span>其他</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
						</div>
					</div>
					<div class="datum_flFrame">
						<div class="datum_flFrame_header">
							<span>轮次</span>
							<img src="../../assets/img/home/jt.png" />
						</div>
						<div class="datum_flFrame_item clearfix">
							<div><span>A轮</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
							<div><span>B轮</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
							<div><span>C轮</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
							<div><span>D轮</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
							<div><span>天使轮</span><img src="../../assets/img/home/index_del.png" alt="" /></div>
						</div>
					</div>
				</div>
				<div class="datum_fl_bottom">
					<div class="redBj itemAll" onclick="Popur()"><span>全部</span></div>
					<div class="blueBj" onclick="Popur()"><span>确定</span></div>
				</div>
			</div>
		</div>
		
		<div class="TYheader">
			<div class="TYheader_left">
				<a href="index.html">
					<img src="../../assets/img/home/back.png"/>	
				</a>
			</div>
			<div class="TYheader_center">
				<span>
					产品库
				</span>
			</div>
		</div>
		<div class="TYsection1">
			<div class="pl_header">
				<div class="pl_headerItem active">产品清单</div>
				<div class="pl_headerItem">独角兽</div>
				<div class="pl_headerSX" onclick="Popur()">
					<span>筛选</span>
					<img src="../../assets/img/home/sx.png" alt="" />
				</div>
			</div>
			<div class="pl_frame">
				<div class="pl_frameLine">
					<a href="plcontent.html">
						<div class="pl_frameLine_top clearfix">
							<div class="pl_frameLine_topLeft">
								<img src="../../assets/img/home/PLimg1.png"/>
							</div>
							<div class="pl_frameLine_topRight">
								<div class="pl_frameLine_topRight_title">
									<span>软件系统集成题库</span>
								</div>
								<div class="pl_frameLine_topRight_text">
									<span>南京诺必信网络科技有限公司</span>
								</div>
							</div>
						</div>
						<div class="pl_frameLine_bottom clearfix">
							<div>
								<div>行业</div>
								<div>教育</div>
							</div>
							<div>
								<div>融资金额</div>
								<div>-</div>
							</div>
							<div>
								<div>成立之间</div>
								<div>2012-07-04</div>
							</div>
						</div>
					</a>
				</div>
				<div class="pl_frameLine">
					<a href="plcontent.html">
						<div class="pl_frameLine_top clearfix">
							<div class="pl_frameLine_topLeft">
								<img src="../../assets/img/home/PLimg1.png"/>
							</div>
							<div class="pl_frameLine_topRight">
								<div class="pl_frameLine_topRight_title">
									<span>软件系统集成题库</span>
								</div>
								<div class="pl_frameLine_topRight_text">
									<span>南京诺必信网络科技有限公司</span>
								</div>
							</div>
						</div>
						<div class="pl_frameLine_bottom clearfix">
							<div>
								<div>行业</div>
								<div>教育</div>
							</div>
							<div>
								<div>融资金额</div>
								<div class="redText">100万人民币</div>
							</div>
							<div>
								<div>成立之间</div>
								<div>2012-07-04</div>
							</div>
						</div>
					</a>
				</div>
				
			</div>
		</div>
		<script type="text/javascript">
			var dheader = document.querySelectorAll(".datum_flFrame_header");
			var popur = document.querySelector(".datum_popur");
			var headerItem = document.querySelectorAll(".pl_headerItem");
			
			var item = document.querySelectorAll(".datum_flFrame_item");
			var itemDiv = document.querySelectorAll(".datum_flFrame_item div");
			var clientWidth = document.documentElement.clientWidth;
			window.onload = function(){
				//头部展开事件
				for(let i = 0; i < dheader.length; i++) {
					if(parseInt(item[i].scrollHeight) <= parseInt(3.24*100*(clientWidth/750))){
						dheader[i].lastElementChild.style.display = "none";
					}else{
						dheader[i].addEventListener("click", function() {
							dheader[i].parentNode.classList.toggle("active");
						})
					}
				}
			}
			
			
			//右侧弹窗事件
			function Popur(){
				popur.classList.toggle("active");
				popur.removeAttribute("style");	
			}
			
			for(let i = 0; i < itemDiv.length; i++) {
				itemDiv[i].addEventListener("click", function() {
					itemDiv[i].classList.toggle("active")
				})
			}
			
			for(let i = 0; i < headerItem.length; i++) {
				headerItem[i].addEventListener("click", function() {
					for(let j = 0; j < headerItem.length; j++){
						if(headerItem[j].classList.contains("active")){
							headerItem[j].classList.remove("active")
						}
						headerItem[i].classList.add("active")
					}
				})
			}
			
			document.querySelector(".itemAll").addEventListener("click", function() {
				for(let i = 0; i < itemDiv.length; i++) {
					itemDiv[i].classList.add("active");
				}
			})
			
			
			
		var moveUl = document.querySelector(".datum_fl"),
			start = 0,
			startY = 0,
			tform = 0,
			tformY = 0,
			frameWidth = 0;
						
		function handlerTouchEvent(event) {
			//只跟踪一次触摸
			if(event.touches.length == 1 || event.touches.length == 0) {
				
				switch(event.type) {
					case "touchstart":
						tform=0;
						start = event.touches[0].clientX;
						startY = event.touches[0].clientY;
						frameWidth = moveUl.offsetWidth;
						popur.style.transition = "all 0s"
						break;
					case "touchend":
						if(tform >= 100){
							popur.removeAttribute("style");	
							popur.classList.remove("active");
						}else{
							popur.style.transform = "translateX(" + 0 + "px)"
						}
						
						
						break;
					case "touchmove":
						var width = document.body.offsetWidth;
						
						let X = event.touches[0].clientX - start; //x轴的滑动值
						let Y = event.touches[0].clientY - startY; //y轴的滑动值
		
						if(Math.abs(X) > Math.abs(Y) && X > 0) {
							event.preventDefault();
						} else if(Math.abs(X) > Math.abs(Y) && X < 0) {
							event.preventDefault();
						} else if(Math.abs(Y) > Math.abs(X) && Y > 0) {
		
						} else if(Math.abs(Y) > Math.abs(X) && Y < 0) {
		
						} else {
							console.log("just touch");
						}
						
						tform = -(start - event.changedTouches[0].clientX);
						if(tform<=0){
							tform = 0;
						}
						popur.style.transform = "translateX(" + tform + "px)"
				}
			}
		}
		
		
		moveUl.addEventListener('touchstart', handlerTouchEvent, false);
		moveUl.addEventListener('touchmove', handlerTouchEvent, false);
		moveUl.addEventListener('touchend', handlerTouchEvent, false);
		
		</script>
	</body>
</html>
